<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout1}">
<meta charset="UTF-8">
<title>RNSE</title>
<th:block layout:fragment="css">
    <style>
        .logo_image {
            width: 100px;
            position: relative;
            top: 90px;
        }
        .container{
            min-width: 1140px;
            width: 1190px;
            margin: 0 auto;
        }
        .main{
            position: relative;
            margin-top: 120px;
        }
        .category{
            width: auto;
            height: 40px;
            background-color: #FFCE44;
        }

        .category-item{
            text-align: center;
            color: white;
            display: inline-block;
            margin: 10px 15px 10px 10px;
        }
        .category-name{
            text-align: center;
            color: #FFB400;
            display: inline-block;
            margin: 10px 15px 10px 10px;
            border-bottom: 4px solid;
        }
        a:link, a:visited, a:hover, a:active {
            color: white;
            text-decoration: none;
        }
    </style>
</th:block>
<div layout:fragment="content">

    <div class="container">
        <div>
            <a th:href="@{/main}" target="_self"><img src="/img/RNSE_LOGO.png" class="logo_image"></a>
        </div>
        <div class="main">
            <div class="category">
                <div class="category-name"><a th:href="@{/category}" target="_self">경제</a></div>
                <div class="category-item">생활/문화</div>
                <div class="category-item">IT/과학</div>
            </div>

            <div class="row mt-5 mb-5" th:each="i : ${news}">
                <div th:if="${i.category == '경제'}">
                <div class="col-2">
                    <dt><img th:inline="none" th:src="${i.imageURL}" onerror="this.style.display='none'" style="width: 150px;height: 100px"></dt>
                </div>
                    <div class="col-10">
                        <dts th:utext="${i.title}" class="h5"></dts>
                        <dd th:utext="${i.text}" class="summary"></dd>
                        <dd><small th:utext="${i.datetime}" class="datetime"></small></dd>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script th:inline="javascript">
        // let datetime = document.querySelectorAll(".datetime");
        // let summary = document.querySelectorAll(".summary");
        //
        // for(let i = 0; i<datetime.length; i++) {
        //     let diff = new Date().getTime() - new Date(Date.parse(datetime[i].innerText)).getTime()
        //
        //
        //     let minute = 1000 * 60;
        //     let hour = minute * 60;
        //     let day = hour * 24;
        //
        //     if (diff < minute) {
        //         datetime[i].innerText = "방금 전";
        //     } else if (diff < hour) {
        //         datetime[i].innerText = Math.floor(diff / minute) + '분 전';
        //     } else if (diff < day) {
        //         datetime[i].innerText = Math.floor(diff / hour) + '시간 전'
        //     } else {
        //         datetime[i].innerText = Math.floor(diff / day) + '일 전'
        //     }
        //
        //     summary[i].innerText = summary[i].innerText.substring(0, 155) + "..."
        //}
    </script>
</div>
</html>

